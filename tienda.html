<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda VET360 - Productos Veterinarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>

<div id="navbar-container"></div>

<!-- Header de la tienda -->
<div class="container-fluid bg-primary text-white py-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="mb-2">
                    <i class="bi bi-shop"></i>
                    Tienda VET360
                </h1>
                <p class="mb-0">Todo lo que tu mascota necesita en un solo lugar</p>
            </div>
            <div class="col-md-4 text-end">
                <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#cartModal">
                    <i class="bi bi-cart3"></i>
                    Carrito (<span id="cartCount">0</span>)
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Filtros y b√∫squeda -->
<div class="container mt-4">
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-search"></i></span>
                <input type="text" class="form-control" id="searchProducts" placeholder="Buscar productos...">
            </div>
        </div>
        <div class="col-md-3">
            <select class="form-select" id="categoryFilter" title="Filtrar por categor√≠a">
                <option value="">Todas las categor√≠as</option>
                <option value="alimentos">Alimentos</option>
                <option value="medicamentos">Medicamentos</option>
                <option value="accesorios">Accesorios</option>
                <option value="juguetes">Juguetes</option>
                <option value="higiene">Higiene</option>
                <option value="camas">Camas y Descanso</option>
            </select>
        </div>
        <div class="col-md-3">
            <select class="form-select" id="priceFilter" title="Filtrar por precio">
                <option value="">Todos los precios</option>
                <option value="0-25">$0 - $25</option>
                <option value="25-50">$25 - $50</option>
                <option value="50-100">$50 - $100</option>
                <option value="100+">$100+</option>
            </select>
        </div>
    </div>

    <!-- Categor√≠as destacadas -->
    <div class="row mb-5">
        <div class="col">
            <h3 class="mb-3">
                <i class="bi bi-grid-3x3-gap"></i>
                Categor√≠as Destacadas
            </h3>
            <div class="row g-3">
                <div class="col-md-2 col-4">
                    <div class="card border-primary category-card" data-category="alimentos">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-cup-straw text-primary large-icon-small mb-2"></i>
                            <h6 class="card-title">Alimentos</h6>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <div class="card border-success category-card" data-category="medicamentos">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-capsule text-success large-icon-small mb-2"></i>
                            <h6 class="card-title">Medicamentos</h6>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <div class="card border-warning category-card" data-category="accesorios">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-award text-warning large-icon-small mb-2"></i>
                            <h6 class="card-title">Accesorios</h6>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <div class="card border-info category-card" data-category="juguetes">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-balloon text-info large-icon-small mb-2"></i>
                            <h6 class="card-title">Juguetes</h6>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <div class="card border-secondary category-card" data-category="higiene">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-droplet text-secondary large-icon-small mb-2"></i>
                            <h6 class="card-title">Higiene</h6>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <div class="card border-dark category-card" data-category="camas">
                        <div class="card-body text-center p-3">
                            <i class="bi bi-house-heart text-dark large-icon-small mb-2"></i>
                            <h6 class="card-title">Camas</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Productos -->
    <div class="row">
        <div class="col">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3>
                    <i class="bi bi-box-seam"></i>
                    Productos Disponibles
                </h3>
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-outline-secondary active" id="gridView" title="Vista de cuadr√≠cula">
                        <i class="bi bi-grid-3x3-gap"></i>
                    </button>
                    <button type="button" class="btn btn-outline-secondary" id="listView" title="Vista de lista">
                        <i class="bi bi-list"></i>
                    </button>
                </div>
            </div>
            
            <div id="productsContainer" class="row g-4">
                <!-- Los productos se cargan din√°micamente -->
            </div>

            <!-- Estado vac√≠o -->
            <div id="emptyProducts" class="text-center py-5 d-none">
                <i class="bi bi-search text-muted large-icon"></i>
                <h4 class="text-muted mt-3">No se encontraron productos</h4>
                <p class="text-muted">Intenta ajustar los filtros de b√∫squeda.</p>
                <button class="btn btn-primary" onclick="clearFilters()">
                    <i class="bi bi-x-circle"></i>
                    Limpiar Filtros
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal del carrito -->
<div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <i class="bi bi-cart3"></i>
                    Carrito de Compras
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div id="cartItems">
                    <!-- Items del carrito se cargan din√°micamente -->
                </div>
                <div id="emptyCart" class="text-center py-4">
                    <i class="bi bi-cart-x text-muted large-icon"></i>
                    <h5 class="text-muted mt-3">Carrito vac√≠o</h5>
                    <p class="text-muted">Agrega productos para continuar con tu compra.</p>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row w-100">
                    <div class="col-6">
                        <h5 class="mb-0">Total: $<span id="cartTotal">0.00</span></h5>
                    </div>
                    <div class="col-6 text-end">
                        <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Continuar Comprando</button>
                        <button type="button" class="btn btn-success" id="checkoutBtn" disabled>
                            <i class="bi bi-credit-card"></i>
                            Proceder al Pago
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de detalles del producto -->
<div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="productModalTitle">Detalles del Producto</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" id="productModalBody">
                <!-- Contenido cargado din√°micamente -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="addToCartFromModal">
                    <i class="bi bi-cart-plus"></i>
                    Agregar al Carrito
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Datos de productos simulados
    const products = [
        {
            id: 1,
            name: "Alimento Premium para Perros",
            category: "alimentos",
            price: 45.99,
            originalPrice: 52.99,
            image: "https://via.placeholder.com/300x200/8d6e63/ffffff?text=Alimento+Premium",
            description: "Alimento s√∫per premium para perros adultos con pollo y arroz.",
            stock: 25,
            rating: 4.8,
            features: ["Rico en prote√≠nas", "Sin conservantes artificiales", "Digesti√≥n f√°cil"]
        },
        {
            id: 2,
            name: "Antipulgas y Garrapatas",
            category: "medicamentos",
            price: 28.50,
            originalPrice: null,
            image: "https://via.placeholder.com/300x200/198754/ffffff?text=Antipulgas",
            description: "Protecci√≥n completa contra pulgas y garrapatas por 3 meses.",
            stock: 15,
            rating: 4.9,
            features: ["Protecci√≥n 3 meses", "Resistente al agua", "Aplicaci√≥n f√°cil"]
        },
        {
            id: 3,
            name: "Collar Ajustable Premium",
            category: "accesorios",
            price: 15.99,
            originalPrice: 19.99,
            image: "https://via.placeholder.com/300x200/ffc107/000000?text=Collar+Premium",
            description: "Collar ajustable de cuero sint√©tico con hebilla de seguridad.",
            stock: 30,
            rating: 4.5,
            features: ["Cuero sint√©tico", "Hebilla de seguridad", "Reflectivo nocturno"]
        },
        {
            id: 4,
            name: "Pelota Interactiva",
            category: "juguetes",
            price: 12.75,
            originalPrice: null,
            image: "https://via.placeholder.com/300x200/0dcaf0/000000?text=Pelota+LED",
            description: "Pelota con luces LED que se activa con el movimiento.",
            stock: 40,
            rating: 4.6,
            features: ["Luces LED", "Activaci√≥n por movimiento", "Material resistente"]
        },
        {
            id: 5,
            name: "Champ√∫ Hipoalerg√©nico",
            category: "higiene",
            price: 18.25,
            originalPrice: null,
            image: "https://via.placeholder.com/300x200/6f42c1/ffffff?text=Champ√∫+Suave",
            description: "Champ√∫ especial para pieles sensibles con avena y aloe vera.",
            stock: 20,
            rating: 4.7,
            features: ["Hipoalerg√©nico", "Con avena y aloe", "pH balanceado"]
        },
        {
            id: 6,
            name: "Cama Ortop√©dica Grande",
            category: "camas",
            price: 89.99,
            originalPrice: 109.99,
            image: "https://via.placeholder.com/300x200/6c757d/ffffff?text=Cama+Ortop√©dica",
            description: "Cama ortop√©dica con espuma de memoria para perros grandes.",
            stock: 8,
            rating: 4.9,
            features: ["Espuma de memoria", "Talla grande", "Funda lavable"]
        },
        {
            id: 7,
            name: "Alimento para Gatos Esterilizados",
            category: "alimentos",
            price: 38.50,
            originalPrice: null,
            image: "https://via.placeholder.com/300x200/8d6e63/ffffff?text=Alimento+Gatos",
            description: "F√≥rmula especial para gatos esterilizados y castrados.",
            stock: 18,
            rating: 4.4,
            features: ["Bajo en calor√≠as", "Control de peso", "Rico en fibra"]
        },
        {
            id: 8,
            name: "Transportadora de Viaje",
            category: "accesorios",
            price: 65.00,
            originalPrice: 75.00,
            image: "https://via.placeholder.com/300x200/dc3545/ffffff?text=Transportadora",
            description: "Transportadora aprobada por aerol√≠neas para mascotas medianas.",
            stock: 12,
            rating: 4.8,
            features: ["Aprobada aerol√≠neas", "Ventilaci√≥n superior", "Ruedas incluidas"]
        }
    ];

    // Variables globales
    let cart = [];
    let filteredProducts = [...products];
    let currentView = 'grid';

    // Elementos del DOM
    const productsContainer = document.getElementById('productsContainer');
    const emptyProducts = document.getElementById('emptyProducts');
    const searchInput = document.getElementById('searchProducts');
    const categoryFilter = document.getElementById('categoryFilter');
    const priceFilter = document.getElementById('priceFilter');
    const cartCount = document.getElementById('cartCount');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const emptyCart = document.getElementById('emptyCart');
    const checkoutBtn = document.getElementById('checkoutBtn');

    // Cargar navbar
    document.addEventListener('DOMContentLoaded', function() {
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));
        
        displayProducts();
        updateCartUI();
    });

    // Mostrar productos
    function displayProducts() {
        if (filteredProducts.length === 0) {
            productsContainer.innerHTML = '';
            emptyProducts.classList.remove('d-none');
            return;
        }

        emptyProducts.classList.add('d-none');
        
        if (currentView === 'grid') {
            displayGridView();
        } else {
            displayListView();
        }
    }

    // Vista de cuadr√≠cula
    function displayGridView() {
        productsContainer.className = 'row g-4';
        productsContainer.innerHTML = filteredProducts.map(product => `
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="card h-100 product-card border-0 shadow-sm">
                    ${product.originalPrice ? `
                        <div class="position-absolute top-0 end-0 m-2">
                            <span class="badge bg-danger">
                                ${Math.round((1 - product.price / product.originalPrice) * 100)}% OFF
                            </span>
                        </div>
                    ` : ''}
                    <img src="${product.image}" class="card-img-top" alt="${product.name}" onclick="showProductDetails(${product.id})">
                    <div class="card-body d-flex flex-column">
                        <h6 class="card-title">${product.name}</h6>
                        <span class="badge bg-secondary mb-2 align-self-start">${getCategoryName(product.category)}</span>
                        <p class="card-text text-muted small flex-grow-1">${product.description}</p>
                        <div class="mb-2">
                            ${generateStars(product.rating)}
                            <small class="text-muted">(${product.rating})</small>
                        </div>
                        <div class="mb-2">
                            ${product.originalPrice ? `
                                <small class="text-muted text-decoration-line-through">$${product.originalPrice}</small>
                            ` : ''}
                            <h5 class="text-success mb-0">$${product.price}</h5>
                        </div>
                        <div class="mt-auto">
                            <div class="row g-2">
                                <div class="col">
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="showProductDetails(${product.id})">
                                        <i class="bi bi-eye"></i> Ver
                                    </button>
                                </div>
                                <div class="col">
                                    <button class="btn btn-primary btn-sm w-100" onclick="addToCart(${product.id})">
                                        <i class="bi bi-cart-plus"></i> Agregar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // Vista de lista
    function displayListView() {
        productsContainer.className = 'row';
        productsContainer.innerHTML = filteredProducts.map(product => `
            <div class="col-12 mb-3">
                <div class="card product-card border-0 shadow-sm">
                    <div class="row g-0">
                        <div class="col-md-2">
                            <img src="${product.image}" class="img-fluid rounded-start h-100 object-fit-cover" alt="${product.name}">
                        </div>
                        <div class="col-md-10">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h5 class="card-title">${product.name}</h5>
                                        <span class="badge bg-secondary mb-2">${getCategoryName(product.category)}</span>
                                        <p class="card-text">${product.description}</p>
                                        <div class="mb-2">
                                            ${generateStars(product.rating)}
                                            <small class="text-muted">(${product.rating})</small>
                                        </div>
                                        <div class="text-muted small">
                                            <i class="bi bi-box"></i> Stock: ${product.stock} unidades
                                        </div>
                                    </div>
                                    <div class="col-md-4 text-end">
                                        <div class="mb-2">
                                            ${product.originalPrice ? `
                                                <small class="text-muted text-decoration-line-through">$${product.originalPrice}</small><br>
                                            ` : ''}
                                            <h4 class="text-success">$${product.price}</h4>
                                        </div>
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-primary" onclick="showProductDetails(${product.id})">
                                                <i class="bi bi-eye"></i> Ver Detalles
                                            </button>
                                            <button class="btn btn-primary" onclick="addToCart(${product.id})">
                                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // Obtener nombre de categor√≠a
    function getCategoryName(category) {
        const names = {
            alimentos: 'Alimentos',
            medicamentos: 'Medicamentos',
            accesorios: 'Accesorios',
            juguetes: 'Juguetes',
            higiene: 'Higiene',
            camas: 'Camas'
        };
        return names[category] || category;
    }

    // Generar estrellas de rating
    function generateStars(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;
        let stars = '';
        
        for (let i = 0; i < fullStars; i++) {
            stars += '<i class="bi bi-star-fill text-warning"></i>';
        }
        
        if (hasHalfStar) {
            stars += '<i class="bi bi-star-half text-warning"></i>';
        }
        
        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
        for (let i = 0; i < emptyStars; i++) {
            stars += '<i class="bi bi-star text-warning"></i>';
        }
        
        return stars;
    }

    // Filtrar productos
    function filterProducts() {
        const searchTerm = searchInput.value.toLowerCase();
        const selectedCategory = categoryFilter.value;
        const priceRange = priceFilter.value;

        filteredProducts = products.filter(product => {
            const matchesSearch = product.name.toLowerCase().includes(searchTerm) ||
                                product.description.toLowerCase().includes(searchTerm);
            
            const matchesCategory = !selectedCategory || product.category === selectedCategory;
            
            let matchesPrice = true;
            if (priceRange) {
                if (priceRange === '0-25') {
                    matchesPrice = product.price <= 25;
                } else if (priceRange === '25-50') {
                    matchesPrice = product.price > 25 && product.price <= 50;
                } else if (priceRange === '50-100') {
                    matchesPrice = product.price > 50 && product.price <= 100;
                } else if (priceRange === '100+') {
                    matchesPrice = product.price > 100;
                }
            }

            return matchesSearch && matchesCategory && matchesPrice;
        });

        displayProducts();
    }

    // Limpiar filtros
    function clearFilters() {
        searchInput.value = '';
        categoryFilter.value = '';
        priceFilter.value = '';
        filteredProducts = [...products];
        displayProducts();
    }

    // Agregar al carrito
    function addToCart(productId) {
        const product = products.find(p => p.id === productId);
        const existingItem = cart.find(item => item.id === productId);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ ...product, quantity: 1 });
        }

        updateCartUI();
        showAddToCartToast(product.name);
    }

    // Mostrar toast de producto agregado
    function showAddToCartToast(productName) {
        // Crear toast din√°micamente
        const toastHtml = `
            <div class="toast align-items-center text-white bg-success border-0" role="alert">
                <div class="d-flex">
                    <div class="toast-body">
                        <i class="bi bi-check-circle"></i>
                        ${productName} agregado al carrito
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            </div>
        `;
        
        // Agregar al container de toasts
        let toastContainer = document.getElementById('toastContainer');
        if (!toastContainer) {
            toastContainer = document.createElement('div');
            toastContainer.id = 'toastContainer';
            toastContainer.className = 'toast-container position-fixed bottom-0 end-0 p-3';
            document.body.appendChild(toastContainer);
        }
        
        toastContainer.innerHTML = toastHtml;
        const toast = new bootstrap.Toast(toastContainer.querySelector('.toast'));
        toast.show();
    }

    // Actualizar UI del carrito
    function updateCartUI() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

        cartCount.textContent = totalItems;
        cartTotal.textContent = totalPrice.toFixed(2);
        checkoutBtn.disabled = cart.length === 0;

        if (cart.length === 0) {
            cartItems.innerHTML = '';
            emptyCart.style.display = 'block';
        } else {
            emptyCart.style.display = 'none';
            cartItems.innerHTML = cart.map(item => `
                <div class="row align-items-center mb-3 cart-item">
                    <div class="col-2">
                        <img src="${item.image}" class="img-fluid rounded" alt="${item.name}">
                    </div>
                    <div class="col-6">
                        <h6 class="mb-1">${item.name}</h6>
                        <small class="text-muted">$${item.price}</small>
                    </div>
                    <div class="col-2">
                        <div class="input-group input-group-sm">
                            <button class="btn btn-outline-secondary" onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})">
                                <i class="bi bi-dash"></i>
                            </button>
                            <input type="text" class="form-control text-center" value="${item.quantity}" readonly>
                            <button class="btn btn-outline-secondary" onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})">
                                <i class="bi bi-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="col-2 text-end">
                        <button class="btn btn-sm btn-outline-danger" onclick="removeFromCart(${item.id})">
                            <i class="bi bi-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }
    }

    // Actualizar cantidad en carrito
    function updateCartQuantity(productId, newQuantity) {
        if (newQuantity <= 0) {
            removeFromCart(productId);
            return;
        }

        const item = cart.find(item => item.id === productId);
        if (item) {
            item.quantity = newQuantity;
            updateCartUI();
        }
    }

    // Remover del carrito
    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        updateCartUI();
    }

    // Mostrar detalles del producto
    function showProductDetails(productId) {
        const product = products.find(p => p.id === productId);
        
        document.getElementById('productModalTitle').textContent = product.name;
        document.getElementById('productModalBody').innerHTML = `
            <div class="row">
                <div class="col-md-6">
                    <img src="${product.image}" class="img-fluid rounded" alt="${product.name}">
                </div>
                <div class="col-md-6">
                    <h5>${product.name}</h5>
                    <span class="badge bg-secondary mb-3">${getCategoryName(product.category)}</span>
                    
                    <div class="mb-3">
                        ${generateStars(product.rating)}
                        <span class="ms-2">(${product.rating}/5)</span>
                    </div>
                    
                    <div class="mb-3">
                        ${product.originalPrice ? `
                            <small class="text-muted text-decoration-line-through">$${product.originalPrice}</small><br>
                        ` : ''}
                        <h4 class="text-success">$${product.price}</h4>
                    </div>
                    
                    <p class="mb-3">${product.description}</p>
                    
                    <div class="mb-3">
                        <h6>Caracter√≠sticas:</h6>
                        <ul class="list-unstyled">
                            ${product.features.map(feature => `<li><i class="bi bi-check-circle text-success"></i> ${feature}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="alert alert-info">
                        <i class="bi bi-box"></i>
                        <strong>Stock disponible:</strong> ${product.stock} unidades
                    </div>
                </div>
            </div>
        `;
        
        document.getElementById('addToCartFromModal').onclick = () => {
            addToCart(productId);
            bootstrap.Modal.getInstance(document.getElementById('productModal')).hide();
        };
        
        new bootstrap.Modal(document.getElementById('productModal')).show();
    }

    // Event listeners
    searchInput.addEventListener('input', filterProducts);
    categoryFilter.addEventListener('change', filterProducts);
    priceFilter.addEventListener('change', filterProducts);

    // Event listeners para categor√≠as
    document.querySelectorAll('.category-card').forEach(card => {
        card.addEventListener('click', function() {
            const category = this.dataset.category;
            categoryFilter.value = category;
            filterProducts();
        });
    });

    // Event listeners para cambiar vista
    document.getElementById('gridView').addEventListener('click', function() {
        currentView = 'grid';
        this.classList.add('active');
        document.getElementById('listView').classList.remove('active');
        displayProducts();
    });

    document.getElementById('listView').addEventListener('click', function() {
        currentView = 'list';
        this.classList.add('active');
        document.getElementById('gridView').classList.remove('active');
        displayProducts();
    });

    // Checkout
    document.getElementById('checkoutBtn').addEventListener('click', function() {
        alert('üõí Funci√≥n de checkout en desarrollo. Total: $' + document.getElementById('cartTotal').textContent);
    });

    // Funciones globales
    window.addToCart = addToCart;
    window.updateCartQuantity = updateCartQuantity;
    window.removeFromCart = removeFromCart;
    window.showProductDetails = showProductDetails;
    window.clearFilters = clearFilters;
</script>

</body>
</html>